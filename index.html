<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="ezstyles.css">
    <link rel="icon" href="Assets/eztoolslogo.png" type="image/x-icon">
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.js"></script>
    <script src="https://unpkg.com/downloadjs@1.4.7"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/ionicons/5.5.4/ionicons.min.js"></script> -->
    <title>Wasted App</title>
</head>
<body>
  <dialog id="error"><strong>Tip:</strong> <span id="error-txt"></span></dialog>
  <dialog id="tip"><strong></strong> <span id="tip-txt"></span></dialog>
    <section class="grid">
        <div class="card"></div> <!-- top left corner -->
        <div class="card">
          <h1 class="main__header">WASTED WORLD APP</h1>
          <!-- <img  
          src="./Assets/tools.png" 
          alt="BCR"
          width="300"> -->
        </div>
        <div class="card"></div> <!-- top right corner -->
        <div class="card"></div> <!-- top left side -->
        <div class="card"></div> <!-- top right side -->
        <div class="card"></div> <!-- bottom left side -->
        <div class="card"></div> <!-- bottom right side -->
        <div class="card">
            <a class="footer-txt" href="#">Top</a> <!-- bottom left corner -->
        </div>
        <div class="card">
            <p class="footer-txt">
                This app was made by <a href="https://traveling-bard-games.itch.io/" target="_blank">Eâ€¢M</a> using <a href="https://www.runehammer.online/online-store/EZD6-Wasted-Worlds-p639159086" target="_blank">Wasted World</a>, an EZD6 Playset. Check out the <a href="https://github.com/einar-method/EZ-Tools#ez-tools" target="_blank">Github repo</a> for Documentation & Support.
            </p>
        </div>
        <div class="card"></div> <!-- bottom right corner -->
        <div class="card">
            <div id="tab" class="inner-box">
                <fieldset 
                    id="tab-toggle" 
                    class="tab-options" 
                >

                <p class="form-para">
                    <input 
                    type="radio" 
                    name="tool-toggle" 
                    id="pc-tools" 
                    value="pc-tools"
                    class="tool-toggle"
                    checked>
                    <label for="pc-tools">Survivors</label>
                </p>

                <p class="form-para">
                    <input 
                    type="radio" 
                    name="tool-toggle" 
                    id="rr-tools" 
                    value="rr-tools"
                    class="tool-toggle">
                    <label for="rr-tools">Vehicles</label>
                </p>
                <p class="form-para">
                    <input 
                    type="radio" 
                    name="tool-toggle" 
                    id="dice-tools" 
                    value="dice-tools"
                    class="tool-toggle">
                    <label for="dice-tools">Holds</label>
                </p>
                </fieldset>
            </div>
            
            <div class="grid-box" id="pc-tab" style="display:block">
                <section class="button-wrapper" id="all-PC-btns"> 
                  
                  <div id="pc-btns">
                  </div>
                </section>

                <div class="ðŸ“-container" id="ðŸ“-container">
                  <div class="outer__section active">
                    <div class="ðŸ“builder-btns top">
                      <button class="form-btn" onclick="rndAll()" id="ðŸ“clearBuild-btn">Quick Survivor</button>
                      <button class="form-btn" onclick="clearPath()">ðŸ—™</button>
                      <!-- <button class="glide-main" onclick="selectMain()" id="ðŸ“test-btn">test</button> -->
                      <!-- <button class="glide-main" onclick="fillForm()" id="ðŸ“pdf-btn">Save to PDF</button> -->
                    </div>
                  </div>
                  <div class="outer__section active">
                    <hr>
                    <p class="ðŸ“-class"><strong>Path:</strong></p>
                    <div class="ðŸ“box">
                      <!-- <p class="green-box" id="ðŸ“path" ></p> -->
                      <button class="form-btn" onclick="selectMain('path')">Choose Path</button>
                      <button class="form-btn" onclick="getPath(1)">ðŸŽ²</button>
                      <p class="green-box" id="ðŸ“path">Choose or roll (ðŸŽ²) your Path</p>
                    </div>
                    <hr>
                  </div>
                  
                  <div class="outer__section active" id="incl-header">
                    <hr>
                    <p class="ðŸ“-class"><strong>Inclinations:</strong></p>
                    <div class="inner__section active" id="talents-holder">
                      
                      <!-- <p class="ðŸ“-class"><strong>Survivor Talents: </strong><span class="keep-span" id="ðŸ“inc-tip">2 of 2 remaining</span></p> -->
                      <div class="ðŸ“box" id="survivor-talents-box">
                        <!-- <p class="green-box" id="ðŸ“inclinations"></p> -->
                        <button class="form-btn" onclick="selectMain('sTalents')">Survivor Talents</button>
                        <button class="form-btn" onclick="getRndIncl('sTalents')">ðŸŽ²</button>
                        <!-- <button class="form-btn" onclick="clearInclinations()">ðŸ—™</button>  -->
                        <!-- <aside>
                          <details>
                            <summary class="summary__dropdown">All Survivor Talents (click to expand)</summary>
                            <div class="ðŸ“form-btns" id="survivor-talents-list">
                            </div> 
                          </details>
                        </aside> -->
                      </div>
                      
                    </div>

                    <div class="inner__section" id="phys-mutations-holder">
                      <!-- <p class="ðŸ“-class"><strong>Physical Mutations: </strong><span class="keep-span" id="ðŸ“inc-tip2">2 of 2 remaining</span></p> -->
                      <div class="ðŸ“box" id="phys-mutations-box" >
                        <!-- <p class="green-box" id="ðŸ“inclinations2"></p> -->
                        <button class="form-btn" onclick="selectMain('physMut')">Physical Mutations</button>
                        <button class="form-btn" onclick="getRndIncl('physMut')">ðŸŽ²</button>
                      </div>
                      
                    </div>
                  
                    <div class="inner__section" id="mental-mutations-holder">
                      <!-- <p class="ðŸ“-class"><strong>Mental Mutations: </strong><span class="keep-span" id="ðŸ“inc-tip3">2 of 2 remaining</span></p> -->
                      <div class="ðŸ“box" id="mental-mutations-box" >
                        <!-- <p class="green-box" id="ðŸ“inclinations3"></p> -->
                        <button class="form-btn" onclick="selectMain('mentalMut')">Mental Metations</button>
                        <button class="form-btn" onclick="getRndIncl('mentalMut')">ðŸŽ²</button>
                      </div>
                      
                    </div>
                  
                    <div class="inner__section" id="dna-mods-holder">
                      <!-- <p class="ðŸ“-class"><strong>DNA Modifications: </strong><span class="keep-span" id="ðŸ“inc-tip4">2 of 2 remaining</span></p> -->
                      <div class="ðŸ“box" id="dna-mods-box" >
                        <!-- <p class="green-box" id="ðŸ“inclinations4"></p> -->
                        <button class="form-btn" onclick="selectMain('dnaMods')">DNA Modifications</button>
                        <button class="form-btn" onclick="getRndIncl('dnaMods')">ðŸŽ²</button>
                      </div>
                    </div>
                  
                    <div class="inner__section" id="bio-synth-holder">
                      <!-- <p class="ðŸ“-class"><strong>BioSynth Packages: </strong><span class="keep-span" id="ðŸ“inc-tip5">2 of 2 remaining</span></p> -->
                      <div class="ðŸ“box" id="bio-synth-box" >
                        <!-- <p class="green-box" id="ðŸ“inclinations5"></p> -->
                        <button class="form-btn" onclick="selectMain('bioSynth')">BioSynth Packages</button>
                        <button class="form-btn" onclick="getRndIncl('bioSynth')">ðŸŽ²</button>
                      </div>
                    </div>
                    <p class="green-box tall" id="all-incl-list">First, pick a Path</p>
                    <div id="incl-tip-main"></div>
                    <hr>
                  </div>

                  <div class="outer__section active" id="edges-holder">
                    <hr>
                    <p class="ðŸ“-class"><strong>Edge:</strong></p>
                    <div class="inner__section active" id="edges-list">
                        <ul class="ability__sheet__list">
                          <li>First, pick a Path</li>
                        </ul>
                    </div>
                    <hr>
                  </div>
                

                  <div class="outer__section active" id="aspects-holder">
                    <hr>
                    <p class="ðŸ“-class"><strong>Aspects:</strong></p>
                    <div class="ðŸ“box" id="aspects-box">
                        <button class="form-btn" onclick="toggleBuilderSheet('aspects', true, true)">Choose Aspects</button>
                        <button class="form-btn" onclick="getRndAspect()">ðŸŽ²</button>
                        <p class="green-box" id="ðŸ“aspects">Choose or roll (ðŸŽ²) for 2 Aspects.</p>
                    </div>
                    <hr>
                  </div>
                
                  
                  <div class="outer__section" id="stats-holder" style="display: none;">
                    <hr>
                    <p class="ðŸ“-class"><strong>Strikes:</strong> <span id="ðŸ“strikes"></span></p>
                    <p class="ðŸ“-class"><strong>Karma:</strong> <span id="ðŸ“karma"></span></p>
                    <p class="ðŸ“-class"><strong>Armor Save:</strong> <span id="ðŸ“aSave"></span></p>
                    <p class="ðŸ“-class"><strong>Miracle Save:</strong> <span id="ðŸ“mSave"></span></p>
                    <p class="ðŸ“-class"><strong>Boons:</strong> <span id="ðŸ“boons"></span></p>
                    <p class="ðŸ“-class"><strong>Armor Type:</strong> <span id="ðŸ“armor"></span></p>
                    <p class="ðŸ“-class"><strong>Features:</strong> <span id="ðŸ“features"></span></p>
                  </div>

                  <div class="outer__section active" id="name-holder">
                    <hr>
                    <p class="ðŸ“-class"><strong>Name:</strong></p>
                    <div class="ðŸ“box">
                      <!-- <p>
                        <input 
                        type="text" 
                        name="ðŸ“name"
                        id="ðŸ“name"
                        class="ðŸ“form" 
                        title="Type in a name, or generate one."
                        placeholder="Name"
                        autocomplete="off">
                      </p> -->
                      <textarea id="ðŸ“name" name="ðŸ“name" rows="1" class="textarea__dynamic" spellcheck="false" title="Edit Name" placeholder="Name"></textarea>
                      <button class="form-btn" onclick="initName()">ðŸŽ²</button>
                      <textarea id="notes" name="notes" rows="3" class="textarea__dynamic" spellcheck="false" title="Notes" placeholder="Additional notes for your Survivor."></textarea>
                    </div>
                    <hr>
                  </div>

                  <div class="outer__section active" id="equipment-holder">
                    <hr>
                    <p class="ðŸ“-class"><strong>Equipment:</strong></p>
                    <div class="ðŸ“box threeCol">
                      <button class="form-btn" onclick="getItem('weapon')">ðŸŽ² Weapon</button>
                      <button class="form-btn" onclick="getItem('gear')">ðŸŽ² Gear</button>
                      <button class="form-btn" onclick="getItem('drug')">ðŸŽ² Drug</button>
                    
                      
                    </div>
                    <p class="p__semi_bold">Rolled Equipment:</p>
                    <p class="green-box" id="rnd-equipment-txt">1 Weapon, Gear, or Drug</p>
                    <p class="p__semi_bold">Path Equipment:</p>
                    <p class="green-box large tall" id="ðŸ“gear">First, pick a Path</p>
                    <hr>
                  </div>
                  <!--  -->
                  <!-- <p class="ðŸ“-class"><strong>Description:</strong></p> -->
                  <!-- <div class="ðŸ“box">
                    <p>
                      <input 
                      type="text" 
                      name="ðŸ“phys"
                      id="ðŸ“phys"
                      class="ðŸ“form" 
                      title="Enter a description or generate one"
                      placeholder="PC Description"
                      autocomplete="off">
                  </p>
                    <button class="form-btn" onclick="getDescrip()">ðŸŽ²</button>
                    <button class="form-btn" onclick="clearDescrip()">ðŸ—™</button>
                  </div> -->
                  <!-- <hr> -->
                  <div class="ðŸ“builder-btns">
                    <hr>
                    <!-- <button class="glide-main" onclick="clearBuilder()" id="ðŸ“clearBuild-btn">clear</button> -->
                    <button class="form-btn" onclick="fillForm()" id="ðŸ“pdf-btn">Save to PDF</button>
                    <hr>
                  </div>
                  
              </div>
            </div>

            <div id="rr-tab" style="display:none">
                <div class="ðŸ“-container">
                  <div class="ðŸ“builder-btns top">
                    <button class="form-btn" onclick="rndAll()" id="ðŸ“clearBuild-btn">Quick Vehicle</button>
                    <button class="form-btn" onclick="clearPath()">ðŸ—™ Reset</button>
                  </div>
                  
                  <div class="outer__section active" id="vehicles-holder">
                    <hr>
                    <div class="inner__section active" id="vehType-holder">
                      <p class="ðŸ“-class"><strong>Type:</strong></p>
                      <div class="ðŸ“box threeCol">
                        <button class="form-btn" onclick="getVehicle('weapon')">Choose Vehicle</button>
                        <button class="form-btn" onclick="getVehicle('weapon')">ðŸŽ² Light</button>
                        <button class="form-btn" onclick="getVehicle('gear')">ðŸŽ² Medium</button>
                        <button class="form-btn" onclick="getVehicle('drug')">ðŸŽ² Heavy</button>
                        <button class="form-btn" onclick="getVehicle('drug')">ðŸŽ² Super H.</button>
                        <button class="form-btn" onclick="getVehicle('drug')">ðŸŽ² Heavy Metal!</button>
                      </div>
                    </div>
                    <p class="green-box large" id="vehTypeText">Choose a premade or random (ðŸŽ²) vehicle</p>
                    <hr>
                  </div>
                
                  <div class="outer__section active" id="vehicleStats-holder">
                    <hr>
                    <p class="ðŸ“-class"><strong>Stats:</strong></p>
                    <div class="inner__section active" id="allStats-list">
                      <p id="verNameDef"><strong>Name: </strong></p>
                      <p id="psgCountDef"><strong>Passengers: </strong></p>
                      <p id="vehStrikesDef"><strong>Strikes: </strong></p>
                      <p id="vehStrcSaveDef"><strong>Structure Save: </strong></p>
                      <p id="vehMnvRollDef"><strong>Maneuver Roll: </strong></p>
                      <p id="vehramDef"><strong>Rammage: </strong></p>
                      <p id="vehLdsDef"><strong>Last Ditch Save (LDS): </strong></p>
                    </div>
                    <hr>
                  </div>
                
                  <div class="outer__section active" id="vehicleMods-holder">
                    <hr>
                    <p class="ðŸ“-class"><strong>Mods:</strong></p>
                    <div class="inner__section active" id="vehMods-list">
                        <ul class="ability__sheet__list">
                          <li>First, create a Vehicle</li>
                        </ul>
                    </div>
                    <hr>
                  </div>

                  <div class="outer__section active" id="vehicleMods-holder">
                    <hr>
                    <p class="ðŸ“-class"><strong>Additional Info:</strong></p>
                    <div class="inner__section active" id="vehMods-list">
                        <textarea id="veh-notes" name="veh-notes" rows="3" class="textarea__dynamic" spellcheck="false" title="Vehicle Notes" placeholder="Additional notes for Vehicle."></textarea>
                    </div>
                    <hr>
                  </div>
                </div>
                
              <!-- </div> -->

                <div class="outer__section active">
                  <h1>Vehicle Configuration</h1>
                  
                  <form id="vehicleForm">
                      
                      <div class="section">
                          <label for="vehicleName"><strong>Vehicle Name:</strong></label>
                          <input type="text" id="vehicleName" name="vehicleName" required>
                      </div>
                      
                      <div class="section">
                          <label for="passengerCount"><strong>Passenger Count:</strong></label>
                          <input type="number" id="passengerCount" name="passengerCount" min="0">
                      </div>
          
                      <div class="section">
                          <label for="strikes"><strong>Strikes:</strong></label>
                          <input type="number" id="strikes" name="strikes" min="0">
                      </div>
          
                      <div class="section">
                          <label for="saveValue"><strong>Structure Save Value:</strong></label>
                          <input type="number" id="saveValue" name="saveValue" min="1" max="6">
                      </div>
          
                      <div class="section">
                          <label for="mnvRoll"><strong>Maneuver Roll:</strong></label>
                          <input type="number" id="mnvRoll" name="mnvRoll">
                      </div>
          
                      <div class="section">
                          <label for="rammage"><strong>Rammage:</strong></label>
                          <input type="number" id="rammage" name="rammage">
                      </div>
          
                      <div class="section">
                          <label for="lds"><strong>Last Ditch Save (LDS):</strong></label>
                          <input type="number" id="lds" name="lds">
                      </div>
          
                      <div class="section">
                          <label for="isWrecked"><strong>Is Wrecked:</strong></label>
                          <select id="isWrecked" name="isWrecked">
                              <option value="false" selected>No</option>
                              <option value="true">Yes</option>
                          </select>
                      </div>
          
                      <div class="section">
                          <h3>Select Vehicle Class</h3>
                          <div class="checkbox-grid">
                              <label><input type="radio" name="vehicleClass" value="Light" required> Light (Motorcycle, ATV, Buggy)</label>
                              <label><input type="radio" name="vehicleClass" value="Medium"> Medium (Car or Small SUV)</label>
                              <label><input type="radio" name="vehicleClass" value="Heavy"> Heavy (Pickup, Van, or Large SUV)</label>
                              <label><input type="radio" name="vehicleClass" value="Superheavy"> Superheavy (Semi or Bus)</label>
                          </div>
                      </div>
          
                      <div class="section">
                          <h3>Select Vehicle Mods</h3>
                          <div class="checkbox-grid">
                              <label><input type="checkbox" name="mod" value="Reinforced Frame"> Reinforced Frame</label>
                              <label><input type="checkbox" name="mod" value="Welded Armor"> Welded Armor</label>
                              <label><input type="checkbox" name="mod" value="Juiced"> Juiced</label>
                              <label><input type="checkbox" name="mod" value="Tire Grips"> Tire Grips</label>
                              <label><input type="checkbox" name="mod" value="Spiked Body"> Spiked Body</label>
                              <label><input type="checkbox" name="mod" value="Heavy Machine Gun Mount"> Heavy Machine Gun Mount</label>
                              <label><input type="checkbox" name="mod" value="Reinforced Ram"> Reinforced Ram</label>
                              <label><input type="checkbox" name="mod" value="Powered Winch"> Powered Winch</label>
                              <label><input type="checkbox" name="mod" value="Smokescreen"> Smokescreen</label>
                              <label><input type="checkbox" name="mod" value="Killjacks"> Killjacks</label>
                              <label><input type="checkbox" name="mod" value="Rigged to Blow"> Rigged to Blow</label>
                              <label><input type="checkbox" name="mod" value="Hellfire Roaster"> Hellfire Roaster</label>
                              <label><input type="checkbox" name="mod" value="Boom Spear"> Boom Spear</label>
                              <label><input type="checkbox" name="mod" value="Trailer"> Trailer</label>
                              <label><input type="checkbox" name="mod" value="Steering Wheel Lock Bar"> Steering Wheel Lock Bar</label>
                          </div>
                      </div>
          
                      <div class="section">
                          <label for="notes"><strong>Additional Notes:</strong></label><br>
                          <textarea id="notes" name="notes" rows="5"></textarea>
                      </div>
          
                      <div class="section">
                          <label for="equipment"><strong>Equipment (comma separated):</strong></label>
                          <input type="text" id="equipment" name="equipment">
                      </div>
          
                      <button type="submit">Save Vehicle</button>
                  </form>
                </div>
              
            </div>

            <div id="dice-tab" style="display:none">
                <section class="button-wrapper">
                  <div id="dice-btns">  
              
                    <button class="glide-main" id="d6-btn">D6</button>
                    <button class="glide-main" id="boon-btn">Boon</button>
                    <button class="glide-main" id="bane-btn">Bane</button>
                    <div class="dice-box">
                      <p>
                          <input 
                          type="text" 
                          name="formula-input" 
                          id="formula-input"
                          class="dice-input" 
                          pattern="\d+d\d+(kl|kh|fr)?"
                          title="Enter a valid dice formula, such as 2d20kh"
                          placeholder="#d#"
                          autocomplete="off">
                      </p>
                      <button id="formula-btn">Formula</button> 
                    </div>
                    <button class="glide-main" id="dice-reset">Clear</button>
                  </div>
                </section>
            
                <hr>
              
                <section class="dice-results">
                  <dialog id="ðŸŽ²ðŸŽ²">Final Roll: <span id="final-roll"></span></dialog>
                  <dialog id="ðŸŽ²">All Rolls: <span id="all-roll"></span></dialog>
                </section>
            </div>
        </div>

    </section>

    <script src="helpers.js"></script>
    <script src="arrays.js"></script>
    <script src="app.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>